const pokemonRepository=function(){let e=[];function t(){return e}function o(t){"object"==typeof t&&"name"in t?e.push(t):console.log("pokemon is not correct")}function n(e){let t=e.detailsUrl;return fetch(t).then(e=>e.json()).then(t=>{e.height=t.height,e.weight=t.weight,e.imageUrlFront=t.sprites.front_default,e.imageUrlBack=t.sprites.back_default;let o=[];t.types.forEach(e=>{o.push(e.type.name)}),e.types=o.join(", ");let n=[];t.abilities.forEach(e=>{n.push(e.ability.name)}),e.abilities=n.join(", ")}).catch(function(e){console.error(e)})}function i(e){n(e).then(()=>{let t=$(".modal-body"),o=$(".modal-title");t.empty(),o.empty();let n=$(`<h1>${e.name.charAt(0).toUpperCase()}${e.name.slice(1)}</h1>`),i=$('<img class="modal-img" style="width: 50%">');i.attr("src",e.imageUrlFront);let r=$('<img class="modal-img" style="width: 50%">');r.attr("src",pokem.imageUrlBack);let a=$("<p>Height: + pokemon.height + </p>"),l=$(`<p>Weight : ${e.weight}</p>`),s=$(`<p>Types: : ${e.types}</p>`),p=$(`<p>abilities : ${e.abilities}</p>`);o.append(n),t.append(i),t.append(r),t.append(a),t.append(l),t.append(s),t.append(p)})}return $(".pokemon-list"),{getAll:t,add:o,addListItem:function e(t){let o=document.querySelector(".pokemon-list"),n=document.createElement("li");n.classList.add("col");let r=document.createElement("button");r.innerText=t.name.charAt(0).toUpperCase()+t.name.slice(1),r.classList.add("button-class"),r.setAttribute("data-toggle","modal"),r.setAttribute("data-target","#examplemodal");let a=document.createElement("img");a.src=t.imageUrlFront,r.appendChild(a),n.appendChild(r),o.appendChild(n),r.addEventListener("click",()=>{i(t)})},loadList:function e(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(e=>e.json()).then(e=>{let t=e.results.map(e=>{let t={name:e.name,detailsUrl:e.url};return o(t),n(t)});return Promise.all(t)}).catch(e=>{console.error(e)})},loadDetails:n,showDetails:i,filterPokemon:function t(o){return e.filter(e=>{let t=e.name.toLowerCase(),n=o.toLowerCase();return t.startsWith(n)})}}}(),inputField=document.querySelector('input[type="search"]');function removeList(){let e=document.querySelector(".pokemon-list");e.innerHTML=""}function showErrorMessage(e){let t=document.querySelector(".pokemon-list");t.innerHTML=`<li>${e}</li>`}function addListPokemon(e){pokemonRepository.addListItem(e)}inputField.addEventListener("input",()=>{let e=inputField.value,t=pokemonRepository.filterPokemon(e);removeList(),0===t.length?showErrorMessage("Sorry! There are no Pokemon matching your search."):t.forEach(addListPokemon)}),pokemonRepository.loadList().then(()=>{pokemonRepository.getAll().forEach(addListPokemon)});