const pokemonRepository=function(){let e=[];$(".pokemon-list");let t=document.getElementById("loading-message");function n(){t.style.display="block"}function o(){t.style.display="none"}function i(){return e}function a(t){"object"==typeof t&&"name"in t?e.push(t):console.log("pokemon is not correct")}function r(e){n();let t=e.detailsUrl;return fetch(t).then(e=>e.json()).then(t=>{e.height=t.height,e.weight=t.weight,e.imageUrlFront=t.sprites.front_default,e.imageUrlBack=t.sprites.back_default;let n=[];t.types.forEach(e=>{n.push(e.type.name)}),e.types=n.join(", ");let i=[];t.abilities.forEach(e=>{i.push(e.ability.name)}),e.abilities=i.join(", "),o()}).catch(function(e){o(),console.error(e)})}function l(e){r(e).then(()=>{let t=$(".modal-body"),n=$(".modal-title");t.empty(),n.empty();let o=$(`<h1>${e.name.charAt(0).toUpperCase()}${e.name.slice(1)}</h1>`),i=$('<img class="modal-img" style="width: 50%">');i.attr("src",e.imageUrlFront);let a=$('<img class="modal-img" style="width: 50%">');a.attr("src",pokem.imageUrlBack);let r=$("<p>Height: + pokemon.height + </p>"),l=$(`<p>Weight : ${e.weight}</p>`),s=$(`<p>Types: : ${e.types}</p>`),p=$(`<p>abilities : ${e.abilities}</p>`);n.append(o),t.append(i),t.append(a),t.append(r),t.append(l),t.append(s),t.append(p)})}return{getAll:i,add:a,addListItem:function e(t){let n=document.querySelector(".pokemon-list"),o=document.createElement("li");o.classList.add("col");let i=document.createElement("button");i.innerText=t.name.charAt(0).toUpperCase()+t.name.slice(1),i.classList.add("button-class"),i.setAttribute("data-toggle","modal"),i.setAttribute("data-target","#examplemodal");let a=document.createElement("img");a.src=t.imageUrlFront,i.appendChild(a),o.appendChild(i),n.appendChild(o),i.addEventListener("click",()=>{l(t)})},loadList:function e(){return n(),fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(e=>e.json()).then(e=>{let t=e.results.map(e=>{let t={name:e.name,detailsUrl:e.url};return a(t),r(t)});return Promise.all(t)}).then(()=>{setTimeout(()=>{o()},1e3)}).catch(e=>{o(),console.error(e)})},loadDetails:r,showDetails:l,filterPokemon:function t(n){return e.filter(e=>{let t=e.name.toLowerCase(),o=n.toLowerCase();return t.startsWith(o)})}}}(),inputField=document.querySelector('input[type="search"]');function removeList(){let e=document.querySelector(".pokemon-list");e.innerHTML=""}function showErrorMessage(e){let t=document.querySelector(".pokemon-list");t.innerHTML=`<li>${e}</li>`}function addListPokemon(e){pokemonRepository.addListItem(e)}inputField.addEventListener("input",()=>{let e=inputField.value,t=pokemonRepository.filterPokemon(e);removeList(),0===t.length?showErrorMessage("Sorry! There are no Pokemon matching your search."):t.forEach(addListPokemon)}),pokemonRepository.loadList().then(()=>{pokemonRepository.getAll().forEach(addListPokemon)});